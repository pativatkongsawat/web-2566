<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>Work1</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
   
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
   <div class="container">
    <div class="card">
        <div class="card-header bg-primary text-white">Work 1 เกมจับคู่ภาพ ด้วย jquery เเละ bootstrap</div>
        <div class="card-body text-center">
            <div id="view1">
                <button id="playBtn" class="btn btn-success">เริ่มเล่น</button>
                <a href="index.html" class="btn btn-danger">กลับหน้าหลัก</a>
            </div>
            <div id="view2">
                <div class="row">
                    <div class="col"><img src="work1/0.jpg" id="img1" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img2" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img3" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img4" alt=""></div>
                </div>
                <div class="row">
                    <div class="col"><img src="work1/0.jpg" id="img5" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img6" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img7" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img8" alt=""></div>
                </div>
                <div class="row">
                    <div class="col"><img src="work1/0.jpg" id="img9" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img10" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img11" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img12" alt=""></div>
                </div>
                <div class="row">
                    <div class="col"><img src="work1/0.jpg" id="img13" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img14" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img15" alt=""></div>
                    <div class="col"><img src="work1/0.jpg" id="img16" alt=""></div>
                </div>
                <button id="stopBtn" class="btn btn-danger">ออกจากเกม</button>
            </div>

            <div id="view3">
                <h1>ชนะเเล้ว</h1>
                <button id="okBtn" class="btn btn-danger">ตกลง</button>
            </div>
        </div>
        <div class="card-footer small">
            <h5>Pativat Kongsawat 
                643020621-6 SEC2
            </h5>
        </div>
    </div>
   </div>
   <script>
    $(function(){

        $("#view2").hide();
        $("#view3").hide();
        $("#playBtn").click(startGame);
        $("#stopBtn").click(stopGame);
        $("#okBtn").click(goHome);
        $("#view2 img").click(imgclick);

    });
    var cards_opend = [];
    var cards_count = 16;
    function imgclick(){

        if($(this).attr("src")!="work1/0.jpg"){
            return
        }
       
        if(cards_opend.length < 2){
            var s=$(this).attr("srcx");
            $(this).attr("src", s);
            cards_opend.push(this);

            if(cards_opend.length == 2){
                setTimeout(checkCard,1000);
            }

        }

    }
    function checkCard(){

        var a = cards_opend[0];
        var b = cards_opend[1];
        cards_opend = [];
        if($(a).attr("srcx") == $(b).attr("srcx")){
            $(a).hide();
            $(b).hide();
            cards_count -= 2;
        }
        else{

            $(a).attr("src" ,"work1/0.jpg");
            $(b).attr("src" ,"work1/0.jpg");

        }
        if(cards_count == 0){
            $("#view3").show();
            $("#view2").hide();
        }

    }
    function startGame(){
        $("#view1").hide();
        $("#view2").show();
        cards_count = 16;
        cards_opend = [];
        shuffer();

    }
    function stopGame(){
        $("#view2").hide();
        $("#view1").show();

    }
    function goHome(){
        $("#view1").show();
        $("#view3").hide();
    }
    function shuffer(){

        var list = [];

        for(var i = 1; i <= 8 ; i++){
            list.push(i);
            list.push(i);
        }
        console.log(list);
        for(var i = 0 ; i < 100 ; i++){
            var a = Math.round(Math.random() * 15);
            var b = Math.round(Math.random() * 15);
            var t = list[a];
            list[a] = list[b];
            list[b] = t;

        }
        console.log(list)
        for(var i = 0 ; i < 16 ; i++){
            $("#img"+(i+1)).attr("src","work1/0.jpg");
            $("#img"+(i+1)).attr("srcx","work1/"+list[i]+".jpg");
        }
    }

   </script>

   
   
</body>
        
</html> 